<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>LaraDock by LaraDock</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">LaraDock</h1>
      <h2 class="project-tagline">Like Laravel Homestead but for Docker instead of Vagrant.</h2>
      <a href="https://github.com/LaraDock/laradock" class="btn">View on GitHub</a>
      <a href="https://github.com/LaraDock/laradock/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/LaraDock/laradock/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="laradock" class="anchor" href="#laradock" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LaraDock</h1>

<p><a href="http://zalt.me"><img src="http://forthebadge.com/images/badges/built-by-developers.svg" alt="forthebadge"></a></p>

<p>LaraDock helps you run your <strong>Laravel</strong> App on <strong>Docker</strong> real quick.
<br>
It's like Laravel Homestead but for Docker instead of Vagrant.</p>

<p><img src="http://s18.postimg.org/fhykchl09/new_laradock_cover.png" alt=""></p>

<p><br></p>

<h2>
<a id="contents" class="anchor" href="#contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contents</h2>

<ul>
<li>
<a href="#Intro">Intro</a>

<ul>
<li><a href="#features">Features</a></li>
<li><a href="#Supported-Containers">Supported Containers</a></li>
<li><a href="#what-is-docker">What is Docker</a></li>
<li><a href="#what-is-laravel">What is Laravel</a></li>
<li><a href="#why-docker-not-vagrant">Why Docker not Vagrant</a></li>
<li><a href="#laradock-vs-homestead">LaraDock VS Homestead</a></li>
</ul>
</li>
<li><a href="#Requirements">Requirements</a></li>
<li><a href="#Installation">Installation</a></li>
<li><a href="#Usage">Usage</a></li>
<li>
<a href="#Documentation">Documentation</a>

<ul>
<li>
<a href="#Docker">Docker</a>

<ul>
<li><a href="#List-current-running-Containers">List current running Containers</a></li>
<li><a href="#Close-all-running-Containers">Close all running Containers</a></li>
<li><a href="#Delete-all-existing-Containers">Delete all existing Containers</a></li>
<li><a href="#Enter-Container">Enter a Container (SSH into a running Container)</a></li>
<li><a href="#Edit-Container">Edit default container configuration</a></li>
<li><a href="#Edit-a-Docker-Image">Edit a Docker Image</a></li>
<li><a href="#Build-Re-build-Containers">Build/Re-build Containers</a></li>
<li><a href="#Add-Docker-Images">Add more Software's (Docker Images)</a></li>
<li><a href="#View-the-Log-files">View the Log files</a></li>
</ul>
</li>
<li>
<a href="#Laravel">Laravel</a>:

<ul>
<li><a href="#Run-Artisan-Commands">Run Artisan Commands</a></li>
<li><a href="#Use-Redis">Use Redis</a></li>
</ul>
</li>
<li>
<a href="#PHP">PHP</a>

<ul>
<li><a href="#Install-PHP-Extensions">Install PHP Extensions</a></li>
<li><a href="#Change-the-PHP-FPM-Version">Change the PHP-FPM Version</a></li>
<li><a href="#Change-the-PHP-CLI-Version">Change the PHP-CLI Version</a></li>
</ul>
</li>
<li>
<a href="#Misc">Misc</a>

<ul>
<li><a href="#Run-Docker-Virtual-Host">Run a Docker Virtual Host</a></li>
<li><a href="#Find-Docker-IP-Address">Find your Docker IP Address</a></li>
<li><a href="#Use-custom-Domain">Use custom Domain</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Help">Help &amp; Questions</a></li>
</ul>

<p><a name="Intro"></a></p>

<h2>
<a id="intro" class="anchor" href="#intro" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Intro</h2>

<p>LaraDock strives to make the development experience easier.
It contains pre-packaged Docker Images that provides you a wonderful development environment without requiring you to install PHP, NGINX, MySQL, REDIS, and any other software on your local machine.</p>

<p><strong>Usage Overview:</strong> Run <code>NGINX</code> and <code>MySQL</code>.</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up  nginx mysql </pre></div>

<p><a name="features"></a></p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li>Easy switch between PHP versions: 7.0 - 5.6 - 5.5 ...</li>
<li>Choose your favorite database engine: MySQL - Postgres - Redis ...</li>
<li>Run your own combination of software's: Memcached - MariaDB ...</li>
<li>Every software runs on a separate container: PHP-FPM - NGINX ...</li>
<li>Easy to customize any container, with simple edit to the <code>dockerfile</code>.</li>
<li>All Images extends from an official base Image. (Trusted base Images).</li>
<li>Pre-configured Nginx for Laravel.</li>
<li>Data container, to keep Data safe and accessible.</li>
<li>Easy to apply configurations inside containers.</li>
<li>Clean and well structured Dockerfiles (<code>dockerfile</code>).</li>
<li>Latest version of the Docker Compose file (<code>docker-compose</code>).</li>
<li>Everything is visible and editable.</li>
</ul>

<p><a name="Supported-Containers"></a></p>

<h3>
<a id="supported-containers" class="anchor" href="#supported-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Supported Containers</h3>

<ul>
<li>PHP-FPM (7.0 - 5.6 - 5.5)</li>
<li>NGINX</li>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>MariaDB</li>
<li>Redis</li>
<li>Memcached</li>
<li>Beanstalkd</li>
<li>Beanstalkd Console</li>
<li>Workspace (contains: Composer, PHP7-CLI, Laravel Installer, Git, Node, Gulp, Bower, SQLite,  Vim, Nano and cURL)</li>
<li>Data Volume <em>(Databases Data Container)</em>
</li>
<li>Application <em>(Application Code Container)</em>
</li>
</ul>

<blockquote>
<p>If you can't find your container, build it yourself and add it to this list. Contributions are welcomed :)</p>
</blockquote>

<p><a name="what-is-docker"></a></p>

<h3>
<a id="what-is-docker" class="anchor" href="#what-is-docker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is Docker?</h3>

<p><a href="https://www.docker.com">Docker</a>  is an open-source project that automates the deployment of applications inside software containers, by providing an additional layer of abstraction and automation of <a href="https://en.wikipedia.org/wiki/Operating-system-level_virtualization">operating-system-level virtualization</a> on Linux, Mac OS and Windows.</p>

<p><a name="what-is-laravel"></a></p>

<h3>
<a id="what-is-laravel" class="anchor" href="#what-is-laravel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is Laravel?</h3>

<p>Seriously!!!</p>

<p><a name="why-docker-not-vagrant"></a></p>

<h3>
<a id="why-docker-not-vagrant" class="anchor" href="#why-docker-not-vagrant" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why Docker not Vagrant!?</h3>

<p><a href="https://www.vagrantup.com">Vagrant</a> creates Virtual Machines in minutes while Docker creates Virtual Containers in seconds.</p>

<p>Instead of providing a full Virtual Machines, like you get with Vagrant, Docker provides you <strong>lightweight</strong> Virtual Containers, that share the same kernel and allow to safely execute independent processes.</p>

<p>In addition to the speed, Docker gives tens of features that cannot be achieved with Vagrant.</p>

<p>Most importantly Docker can run on Development and on Production (same environment everywhere). While Vagrant is designed for Development only, (so you have to re-provision your server on Production every time).</p>

<p><a name="laradock-vs-homestead"></a></p>

<h3>
<a id="laradock-vs-homestead" class="anchor" href="#laradock-vs-homestead" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LaraDock VS Homestead</h3>

<p>LaraDock and <a href="https://laravel.com/docs/master/homestead">Homestead</a> both gives you a complete virtual development environments. (Without the need to install and configure every single software on your own Operating System).</p>

<ul>
<li><p>Homestead is a tool that controls Vagrant for you (using Homestead special commands). And Vagrant manages your Virtual Machine.</p></li>
<li><p>LaraDock is a tool that controls Docker for you (using Docker Compose official commands). And Docker manages you Virtual Containers.</p></li>
</ul>

<p>Running a virtual Container is much faster than running a full virtual Machine. 
<br>Thus <strong>LaraDock is much faster than Homestead</strong>.</p>

<p><a name="Requirements"></a></p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<table>
<thead>
<tr>
<th>Linux</th>
<th>Windows &amp; MAC</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://laravel.com/docs/master/installation">Laravel</a></td>
<td><a href="https://laravel.com/docs/master/installation">Laravel</a></td>
</tr>
<tr>
<td><a href="https://git-scm.com/downloads">Git</a></td>
<td><a href="https://git-scm.com/downloads">Git</a></td>
</tr>
<tr>
<td><a href="https://docs.docker.com/engine/installation/linux/ubuntulinux">Docker Engine</a></td>
<td><a href="https://www.docker.com/toolbox">Docker Toolbox</a></td>
</tr>
<tr>
<td><a href="https://docs.docker.com/compose/install">Docker Compose</a></td>
<td></td>
</tr>
</tbody>
</table>

<p><a name="Installation"></a></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<h4>
<a id="a---in-existing-laravel-projects" class="anchor" href="#a---in-existing-laravel-projects" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A - In existing Laravel Projects:</h4>

<p>1 - Clone the <code>LaraDock</code> repository, inside your <code>Laravel</code> project root direcotry:</p>

<div class="highlight highlight-source-shell"><pre>git submodule add https://github.com/LaraDock/laradock.git</pre></div>

<p>2 - That's it, jump to the Usage section now.</p>

<p><em>If you are not already using Git for your Laravel project, you can use <code>git clone</code> instead of <code>git submodule</code>.</em></p>

<p><br></p>

<h4>
<a id="b---from-scratch-install-laradock-and-laravel" class="anchor" href="#b---from-scratch-install-laradock-and-laravel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>B - From scratch (Install LaraDock and Laravel):</h4>

<p><em>If you don't have any Laravel project yet, and you want to start your Laravel project with Docker.</em></p>

<p>1 - Clone the <code>LaraDock</code> repository anywhere on your machine:</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/LaraDock/laradock.git</pre></div>

<p>2 - Go to the Uage section below and do the steps 1 and 3 then come back here.</p>

<p>3 - Enter the Workspace container. (assuming you have the Workspace container running):</p>

<div class="highlight highlight-source-shell"><pre>docker <span class="pl-c1">exec</span> -it {Workspace-Container-Name} bash</pre></div>

<p>Replace <code>{Workspace-Container-Name}</code> with your Workspace container name. To get the name type <code>docker-compose ps</code> and copy it.</p>

<p>4 - Install Laravel anyway you like. </p>

<p>Example using the Laravel Installer:</p>

<div class="highlight highlight-source-shell"><pre>laravel new my-cool-app</pre></div>

<p>For more about this check out this <a href="https://laravel.com/docs/master#installing-laravel">link</a>.</p>

<p>5 - Edit <code>docker-compose.yml</code> to Map the new application path:</p>

<p>By default LaraDock assumes the Laravel application is living in the parent directory of the laradock folder. </p>

<p>Since the new Laravel application is in the <code>my-cool-app</code> folder, we should replace <code>../:/var/www/laravel</code> with <code>../my-cool-app/:/var/www/laravel</code>, as follow:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-s"><span class="pl-ent">application:</span></span>
        <span class="pl-s"><span class="pl-ent">build:</span> <span class="pl-s">./application</span></span>
        <span class="pl-s"><span class="pl-ent">volumes:</span></span>
            <span class="pl-s">- <span class="pl-s">../my-cool-app/:/var/www/laravel</span></span></pre></div>

<p>6 - finally go to the Usage section below again and do steps 2 and 4.</p>

<p><a name="Usage"></a></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>1 - For <strong>Windows &amp; MAC</strong> users only: make sure you have a running Docker Virtual Host on your machine. 
(<strong>Linux</strong> users don't need a Virtual Host, so skip this step).
<br>
<a href="#Run-Docker-Virtual-Host">How to run a Docker Virtual Host?</a></p>

<p><br>
2 - Open your Laravel's <code>.env</code> file and set the <code>DB_HOST</code> to your <code>{Docker-IP}</code>:</p>

<pre lang="env"><code>DB_HOST=xxx.xxx.xxx.xxx
</code></pre>

<p><a href="#Find-Docker-IP-Address">How to find my Docker IP Address?</a></p>

<p><br>
3 - Run the Containers, (you can select the software's (containers) that you wish to run)
<br>
<em>Make sure you are in the <code>laradock</code> folder before running the <code>docker-compose</code> command.</em></p>

<p><strong>Example:</strong> Running NGINX, MySQL, Redis and the Workspace:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d  nginx mysql redis workspace</pre></div>

<p><em>Note: the PHP-FPM, Application and Data Containers will automatically run.</em></p>

<p>Supported Containers: <code>workspace</code>, <code>nginx</code>, <code>mysql</code>, <code>redis</code>, <code>postgres</code>, <code>mariadb</code>, <code>memcached</code>, <code>beanstalkd</code>, <code>beanstalkd-console</code>, <code>data</code>, <code>php-fpm</code>, <code>application</code>.</p>

<p><br>
4 - Open your browser and visit your <code>{Docker-IP}</code> address (<code>http://xxx.xxx.xxx.xxx</code>).</p>

<p><br>
<strong>Debugging</strong>: in case you faced an error here, run this command from the Laravel root directory:</p>

<div class="highlight highlight-source-shell"><pre>sudo chmod -R 777 storage <span class="pl-k">&amp;&amp;</span> sudo chmod -R 777 bootstrap/cache</pre></div>

<p><br>
<a name="Documentation"></a></p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p><a name="Docker"></a></p>

<h3>
<a id="docker" class="anchor" href="#docker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Docker</h3>

<p><a name="List-current-running-Containers"></a></p>

<h4>
<a id="list-current-running-containers" class="anchor" href="#list-current-running-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>List current running Containers</h4>

<div class="highlight highlight-source-shell"><pre>docker ps</pre></div>

<p>You can also use the this command if you want to see only this project containers:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose ps</pre></div>

<p><br>
<a name="Close-all-running-Containers"></a></p>

<h4>
<a id="close-all-running-containers" class="anchor" href="#close-all-running-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Close all running Containers</h4>

<div class="highlight highlight-source-shell"><pre>docker-compose stop</pre></div>

<p>To stop single container do:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose stop {container-name}</pre></div>

<p><br>
<a name="Delete-all-existing-Containers"></a></p>

<h4>
<a id="delete-all-existing-containers" class="anchor" href="#delete-all-existing-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete all existing Containers</h4>

<div class="highlight highlight-source-shell"><pre>docker-compose down</pre></div>

<p><em>Note: Careful with this command as it will delete your Data Volume Container as well. (if you want to keep your Database data than you should stop each container by itself as follow):</em> </p>

<p><br>
<a name="Enter-Container"></a></p>

<h4>
<a id="enter-a-container-ssh-into-a-running-container" class="anchor" href="#enter-a-container-ssh-into-a-running-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enter a Container (SSH into a running Container)</h4>

<p>1 - first list the current running containers with <code>docker ps</code></p>

<p>2 - enter any container using:</p>

<div class="highlight highlight-source-shell"><pre>docker <span class="pl-c1">exec</span> -it {container-name} bash</pre></div>

<p>3 - to exit a container, type <code>exit</code>.</p>

<p><br>
<a name="Edit-Container"></a></p>

<h4>
<a id="edit-default-container-configuration" class="anchor" href="#edit-default-container-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit default container configuration</h4>

<p>Open the <code>docker-compose.yml</code> and change anything you want.</p>

<p>Examples: </p>

<p>Change MySQL Database Name:</p>

<div class="highlight highlight-source-yaml"><pre>  <span class="pl-s"><span class="pl-ent">environment:</span></span>
    <span class="pl-s"><span class="pl-ent">MYSQL_DATABASE:</span> <span class="pl-s">laradock</span></span></pre></div>

<p>Change Redis defaut port to 1111:</p>

<div class="highlight highlight-source-yaml"><pre>  <span class="pl-s"><span class="pl-ent">ports:</span></span>
    <span class="pl-s">- <span class="pl-s"><span class="pl-pds">"</span>1111:6379<span class="pl-pds">"</span></span></span></pre></div>

<p><br>
<a name="Edit-a-Docker-Image"></a></p>

<h4>
<a id="edit-a-docker-image" class="anchor" href="#edit-a-docker-image" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit a Docker Image</h4>

<p>1 - Find the <code>dockerfile</code> of the image you want to edit, 
<br>
example for <code>mysql</code> it will be <code>mysql/Dockerfile</code>.</p>

<p>2 - Edit the file the way you want.</p>

<p>3 - Re-build the container:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build mysql</pre></div>

<p><em>If you find any bug or you have and suggestion that can improve the performance of any image, please consider contributing. Thanks in advance.</em></p>

<p><br>
<a name="Build-Re-build-Containers"></a></p>

<h4>
<a id="buildre-build-containers" class="anchor" href="#buildre-build-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Build/Re-build Containers</h4>

<p>If you do any change to any <code>dockerfile</code> make sure you run this command, for the changes to take effect:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build</pre></div>

<p>Optionally you can specify which container to rebuild (instead of rebuilding all the containers):</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build {container-name}</pre></div>

<p><br>
<a name="Add-Docker-Images"></a></p>

<h4>
<a id="add-more-softwares-docker-images" class="anchor" href="#add-more-softwares-docker-images" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add more Software's (Docker Images)</h4>

<p>To add an image (software), just edit the <code>docker-compose.yml</code> and add your container details, to do so you need to be familiar with the <a href="https://docs.docker.com/compose/compose-file/">docker compose file syntax</a>.</p>

<p><br>
<a name="View-the-Log-files"></a></p>

<h4>
<a id="view-the-log-files" class="anchor" href="#view-the-log-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>View the Log files</h4>

<p>The Nginx Log file is stored in the <code>logs/nginx</code> directory.</p>

<p>However to view the logs of all the other containers (MySQL, PHP-FPM,...) you can run this:</p>

<div class="highlight highlight-source-shell"><pre>docker logs {container-name}</pre></div>

<p><br>
<a name="Laravel"></a></p>

<h3>
<a id="laravel" class="anchor" href="#laravel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Laravel</h3>

<p><a name="Run-Artisan-Commands"></a></p>

<h4>
<a id="run-artisan-commands" class="anchor" href="#run-artisan-commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Artisan Commands</h4>

<p>You can run artisan commands and many other Terminal commands from the Workspace container.</p>

<p>1 - Make sure you have the workspace container running.</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d workspace // ..and all your other containers</pre></div>

<p>2 - Find the Workspace container name:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose ps</pre></div>

<p>3 - Enter the Workspace container:</p>

<div class="highlight highlight-source-shell"><pre>docker <span class="pl-c1">exec</span> -it {workspace-container-name} bash</pre></div>

<p>4 - Run anything you want :)</p>

<div class="highlight highlight-source-shell"><pre>php artisan</pre></div>

<div class="highlight highlight-source-shell"><pre>Composer update</pre></div>

<div class="highlight highlight-source-shell"><pre>phpunit</pre></div>

<div class="highlight highlight-source-shell"><pre>laravel new blog</pre></div>

<p><br>
<a name="Use-Redis"></a></p>

<h4>
<a id="use-redis" class="anchor" href="#use-redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use Redis</h4>

<p>1 - First make sure you run the Redis Container with the <code>docker-compose</code> command.</p>

<p>2 - Open your Laravel's <code>.env</code> file and set the <code>REDIS_HOST</code> to your <code>Docker-IP</code> instead of the default <code>127.0.0.1</code> IP.</p>

<pre lang="env"><code>REDIS_HOST=xxx.xxx.xxx.xxx
</code></pre>

<p>If you don't find the <code>REDIS_HOST</code> variable in your <code>.env</code> file. Go to the database config file <code>config/database.php</code> and replace the default <code>127.0.0.1</code> IP with your <code>Docker-IP</code> for Redis like this:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-s"><span class="pl-pds">'</span>redis<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>cluster<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">false</span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>default<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>host<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>xxx.xxx.xxx.xxx<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>port<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-c1">6379</span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>database<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">0</span>,</span>
<span class="pl-s1">    ],</span>
<span class="pl-s1">],</span></pre></div>

<p>3 - To enable Redis Caching and/or for Sessions Management. Also from the <code>.env</code> file set <code>CACHE_DRIVER</code> and <code>SESSION_DRIVER</code> to <code>redis</code> instead of the default <code>file</code>.</p>

<pre lang="env"><code>CACHE_DRIVER=redis
SESSION_DRIVER=redis
</code></pre>

<p>4 - Finally make sure you have the <code>predis/predis</code> package <code>(~1.0)</code> installed via Composer first.</p>

<div class="highlight highlight-source-shell"><pre>composer require predis/predis:^1.0</pre></div>

<p>5 - You can manually test it from Laravel with this code:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">\</span><span class="pl-c1">Cache</span><span class="pl-k">::</span>store(<span class="pl-s"><span class="pl-pds">'</span>redis<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>put(<span class="pl-s"><span class="pl-pds">'</span>LaraDock<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Awesome<span class="pl-pds">'</span></span>, <span class="pl-c1">10</span>);</span></pre></div>

<p><br>
<a name="PHP"></a></p>

<h3>
<a id="php" class="anchor" href="#php" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PHP</h3>

<p><a name="Install-PHP-Extensions"></a></p>

<h4>
<a id="install-php-extensions" class="anchor" href="#install-php-extensions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install PHP Extensions</h4>

<p>Before installing PHP extensions, you have to decide whether you need for the <code>FPM</code> or <code>CLI</code> because each lives on a different container, if you need it for both you have to edit both containers.</p>

<p>The PHP-FPM extensions should be installed in <code>php-fpm/Dockerfile-XX</code>. <em>(replace XX with your default PHP version number)</em>.
<br>
The PHP-CLI extensions should be installed in <code>workspace/Dockerfile</code>.</p>

<p><br>
<a name="Change-the-PHP-FPM-Version"></a></p>

<h4>
<a id="change-the-php-fpm-version" class="anchor" href="#change-the-php-fpm-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the PHP-FPM Version</h4>

<p>By default <strong>PHP-FPM 7.0</strong> is running.</p>

<blockquote>
<p>The PHP-FPM is responsible of serving your application code, you don't have to change the PHP-CLI version if you are planing to run your application on different PHP-FPM version.</p>
</blockquote>

<p>1 - Open the <code>docker-compose.yml</code>.</p>

<p>2 - Search for <code>Dockerfile-70</code> in the PHP container section.</p>

<p>3 - Change the version number. 
<br>
Example to select version 5.6 instead of 7.0 you have to replace <code>Dockerfile-70</code> with <code>Dockerfile-56</code>.</p>

<p>Sample: </p>

<pre lang="txt"><code>php-fpm:
    build:
        context: ./php-fpm
        dockerfile: Dockerfile-70
</code></pre>

<p>Supported Versions:</p>

<ul>
<li>For (PHP 7.0.*) use <code>Dockerfile-70</code>
</li>
<li>For (PHP 5.6.*) use <code>Dockerfile-56</code>
</li>
<li>For (PHP 5.5.*) use <code>Dockerfile-55</code>
</li>
</ul>

<p>4 - Finally rebuild the container</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build php</pre></div>

<p>For more details about the PHP base image, visit the <a href="https://hub.docker.com/_/php/">official PHP docker images</a>.</p>

<p><br>
<a name="Change-the-PHP-CLI-Version"></a></p>

<h4>
<a id="change-the-php-cli-version" class="anchor" href="#change-the-php-cli-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the PHP-CLI Version</h4>

<p>By default <strong>PHP-CLI 7.0</strong> is running.</p>

<blockquote>
<p>Note: it's not very essential to edit the PHP-CLI verion. The PHP-CLI is only used for the Artisan Commands &amp; Composer. It doesn't serve your Application code, this is the PHP-FPM job.</p>
</blockquote>

<p>The PHP-CLI is installed in the Workspace container. To change the PHP-CLI version you need to edit the <code>workspace/Dockerfile</code>.</p>

<p>Right now you have to manually edit the <code>Dockerfile</code> or create a new one like it's done for the PHP-FPM. (consider contributing).</p>

<p><br>
<a name="Misc"></a></p>

<h3>
<a id="misc" class="anchor" href="#misc" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Misc</h3>

<p><a name="Run-Docker-Virtual-Host"></a></p>

<h4>
<a id="run-a-docker-virtual-host" class="anchor" href="#run-a-docker-virtual-host" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run a Docker Virtual Host</h4>

<p>These steps are only for <strong>Windows &amp; MAC</strong> users <em>(Linux users don't need a virtual host)</em>:</p>

<p>1 - Run the default Host:</p>

<div class="highlight highlight-source-shell"><pre>docker-machine start default</pre></div>

<ul>
<li><p>If the host "default" does not exist, create one using the command below, else skip it:</p></li>
<li>
<div class="highlight highlight-source-shell"><pre>docker-machine create -d virtualbox default</pre></div>

<p>2 - Run this command to configure your shell:</p>
</li>
</ul>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">eval</span> <span class="pl-s"><span class="pl-pds">$(</span>docker-machine env<span class="pl-pds">)</span></span></pre></div>

<p><br>
<a name="Find-Docker-IP-Address"></a></p>

<h4>
<a id="find-your-docker-ip-address" class="anchor" href="#find-your-docker-ip-address" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Find your Docker IP Address</h4>

<p><strong>On Windows &amp; MAC:</strong> </p>

<div class="highlight highlight-source-shell"><pre>docker-machine ip default</pre></div>

<p>If your Host name is different then <code>default</code>, you have to specify it (<code>docker-machine ip my-host</code>).</p>

<p><em>(The default IP is 192.168.99.100)</em></p>

<blockquote>
<p><strong>boot2docker</strong> users: run <code>boot2docker ip</code> <em>(when boot2docker is up)</em>.</p>
</blockquote>

<p><br>
<strong>On Linux:</strong> </p>

<p>1 - Run <code>ifconfig</code> in the terminal.</p>

<p>2 - In the result search for <code>docker0</code>, your IP address will be next to <code>inet addr</code>.</p>

<p>Example: (In this example your IP address is <code>172.17.0.1</code>).</p>

<div class="highlight highlight-source-shell"><pre>docker0   Link encap:Ethernet  HWaddr 02:42:41:2d:c4:24
          inet addr:172.17.0.1  Bcast:0.0.0.0  Mask:255.255.0.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</pre></div>

<blockquote>
<p>If you have an easier way to do it, share it with us.</p>
</blockquote>

<p><br>
<a name="Use-custom-Domain"></a></p>

<h4>
<a id="use-custom-domain-instead-of-the-docker-ip" class="anchor" href="#use-custom-domain-instead-of-the-docker-ip" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use custom Domain (instead of the Docker IP)</h4>

<p>Assuming your custom domain is <code>laravel.dev</code> and your current <code>Docker-IP</code> is <code>xxx.xxx.xxx.xxx</code>.</p>

<p>1 - Open your <code>/etc/hosts</code> file and map your <code>Docker IP</code> to the <code>laravel.dev</code> domain, by adding the following:</p>

<div class="highlight highlight-source-shell"><pre>xxx.xxx.xxx.xxx    laravel.dev</pre></div>

<p>2 - Open your Laravel's <code>.env</code> file and replace the <code>127.0.0.1</code> default values with your <code>{Docker-IP}</code>.
<br>
Example:</p>

<pre lang="env"><code>DB_HOST=xxx.xxx.xxx.xxx
</code></pre>

<p>3 - Open your browser and visit <code>{http://laravel.dev}</code></p>

<p>Optionally you can define the server name in the nginx config file, like this:</p>

<pre lang="conf"><code>server_name laravel.dev;
</code></pre>

<p><br></p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>This little project was built by one man who has a full time job and many responsibilities, so if you like this project and you find that it needs a bug fix or support for new software or upgrade any container, or anything else.. Do not hesitate to contribute, you are more than welcome :)</p>

<h2>
<a id="support" class="anchor" href="#support" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support</h2>

<p>To suggest a features or report a bug, open a new <a href="https://github.com/laradock/laradock/issues">Issue</a>.</p>

<p><a name="Help"></a></p>

<h2>
<a id="help--questions" class="anchor" href="#help--questions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Help &amp; Questions</h2>

<p>If you need help with anything related to this project, shedule a live call with me on <a href="https://www.codementor.io/mahmoudz">Codementor</a>, I'd love to help.</p>

<p>If you have a short question, send me a direct message on LaraChat, my username is <code>mahmoud_zalt</code>.</p>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credits</h2>

<p><a href="http://www.zalt.me"><img src="https://img.shields.io/badge/Author-Mahmoud%20Zalt-orange.svg" alt="Mahmoud Zalt"></a></p>

<p>Twitter: <a href="https://twitter.com/Mahmoud_Zalt">@Mahmoud_Zalt</a>
<br>
Website: <a href="http://zalt.me">http://zalt.me</a>
<br>
Email: <code>mahmoud@zalt.me</code></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p><a href="https://github.com/laradock/laradock/blob/master/LICENSE">MIT License</a>
<a href="%5B%5D()"></a> (MIT)</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/LaraDock/laradock">LaraDock</a> is maintained by <a href="https://github.com/LaraDock">LaraDock</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
